# Cold Sequence 와 Hot Sequence

{% embed url="https://hyunsoori.com/entry/Spring-Webflux-Cold-Hot-%EC%9D%B4%ED%95%B4%ED%95%98%EA%B8%B0" %}

Spring Boot 및 리액티브 프로그래밍에서 'Cold Sequence'와 'Hot Sequence'는 데이터 스트림의 두 가지 기본 유형을 나타냅니다. 이들의 주요 차이는 데이터가 어떻게 생성되고 구독자에게 어떻게 전달되는지에 있습니다.

#### Cold Sequence:

* **생성과 소비**: Cold Sequence는 구독할 때마다 데이터 스트림이 생성됩니다. 즉, 각 구독자는 데이터 스트림의 시작부터 모든 데이터를 개별적으로 받습니다. 각 구독자는 자신만의 데이터 시퀀스를 갖게 되며, 이는 다른 구독자와 공유되지 않습니다.
* **예시**: 파일 읽기, HTTP 요청 등이 Cold Sequence의 예시입니다. 예를 들어, 파일에서 데이터를 읽는 `Flux`를 구독하는 경우, 각 구독자는 파일의 시작부터 끝까지의 데이터를 받습니다. 새로운 구독자가 구독을 시작하면, 파일의 내용은 그 구독자를 위해 처음부터 다시 읽힙니다.
* **Spring Boot에서의 사용**: Spring WebFlux에서 API 응답을 처리할 때 대부분 Cold Sequence를 사용합니다. 각 요청은 독립적인 데이터 흐름을 생성하고, 요청마다 새로운 데이터 스트림이 시작됩니다.

#### Hot Sequence:

* **생성과 소비**: Hot Sequence는 구독 여부와 상관없이 데이터가 생성되고 방출됩니다. 이는 구독자가 구독을 시작한 시점부터 스트림에 들어오는 데이터만 받는다는 의미입니다. 이전에 발생한 데이터는 새 구독자에게 전달되지 않습니다. 모든 구독자는 같은 데이터 시퀀스를 공유합니다.
* **예시**: 마우스 이벤트, 주식 시세, 실시간 게임 상태 등이 Hot Sequence의 예시입니다. 예를 들어, 실시간 주식 가격 피드는 데이터가 계속 생성되며, 구독자는 구독 시점부터 발생하는 데이터만 받습니다.
* **Spring Boot에서의 사용**: 실시간 데이터 피드, 이벤트 버스 또는 다른 실시간 메시징 시스템에서 Hot Sequence를 사용할 수 있습니다. 예를 들어, WebSocket을 통해 실시간으로 사용자에게 데이터를 방송할 때 Hot Sequence가 사용됩니다.

#### 차이점 요약:

* **Cold Sequence**: 데이터 스트림은 구독할 때마다 생성됩니다. 각 구독자는 스트림의 전체 내용을 처음부터 받습니다.
* **Hot Sequence**: 데이터 스트림은 구독자의 존재 여부와 관계없이 생성되고 방출됩니다. 구독자는 구독 시점부터의 데이터만 받습니다.

이러한 차이점을 이해하는 것은 리액티브 시스템을 설계할 때 중요하며, 어떤 유형의 스트림을 사용할지는 애플리케이션의 요구 사항과 데이터의 성격에 따라 결정됩니다.
